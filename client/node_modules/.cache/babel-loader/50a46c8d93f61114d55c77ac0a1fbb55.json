{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useQuery}from'@apollo/client';import{QUERY_RECIPES}from'../utils/queries';// IMPORTANT FOR CLOUDINARY\n// import Axios from 'axios';\nimport{Image}from'cloudinary-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Recipespage=function Recipespage(){// THIS GRABS THE RECIPES CREATED BY THE USER OR AT LEAST IS MADE\n// BY THE USER\nvar _useQuery=useQuery(QUERY_RECIPES),loading=_useQuery.loading,data=_useQuery.data;var recipes=(data===null||data===void 0?void 0:data.recipes)||[];// THESE SETS OF CODE SHOULD BE ABLE TO TAKE THE RECIPES SECTION AND\n// CREATE A A NEW RECIPE ARRAY THAT HAS NO DUPLICATES BASED ON THE TITLE\n// THIS CAN RAISE ANOTHER PROBLEM IF TITLES ARE THE SAME BUT ID IS NOT\nvar uniqueRecipes=[];for(var a=0;a<recipes.length;a++){var exists=false;for(var b=0;b<uniqueRecipes.length;b++){if(recipes[a].title===uniqueRecipes[b].title){exists=true;break;}}if(!exists){uniqueRecipes.push(recipes[a]);}}// console.log(uniqueRecipes);\n// THIS SHOULD HELP PRINT ONLY A FEW AT A TIME\nvar test=[];var d=0;var handleNext=function handleNext(){test=[];console.log(\"hi\");for(var c=0+d;c<=4+d;c++){test.push(uniqueRecipes[c]);console.log(\"hi\");console.log(test);}d+=5;return test;};handleNext();return/*#__PURE__*/_jsxs(\"div\",{className:\"recipespage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searcharea\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"searchform\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"searchbar\",type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",type:\"submit\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"recipeslist\",children:uniqueRecipes.map(function(recipe){return/*#__PURE__*/_jsx(\"div\",{className:\"recipecard\",children:/*#__PURE__*/_jsxs(Link,{to:\"/recipes/\".concat(recipe._id),children:[recipe.imageid?/*#__PURE__*/_jsx(Image,{cloudName:\"du119g90a\",public_id:recipe.imageid}):/*#__PURE__*/_jsx(Image,{cloudName:\"du119g90a\",public_id:\"https://res.cloudinary.com/du119g90a/image/upload/v1636841468/noimage_w8jxmo.jpg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"generalinfo\",children:[/*#__PURE__*/_jsx(\"h3\",{children:recipe.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Servings: \",recipe.servings]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"totalTime: \",recipe.totalTime,\" mins\"]})]})]})},recipe._id);})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleNext,children:\"hi\"})})]});};export default Recipespage;","map":{"version":3,"sources":["C:/Users/Justin/Desktop/Coding/MyCookBook/client/src/pages/Recipespage.js"],"names":["React","useEffect","useState","Link","useQuery","QUERY_RECIPES","Image","Recipespage","loading","data","recipes","uniqueRecipes","a","length","exists","b","title","push","test","d","handleNext","console","log","c","map","recipe","_id","imageid","servings","totalTime"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_RECIPES } from '../utils/queries';\r\n\r\n// IMPORTANT FOR CLOUDINARY\r\n// import Axios from 'axios';\r\nimport { Image } from 'cloudinary-react';\r\n\r\nconst Recipespage = () => {\r\n    // THIS GRABS THE RECIPES CREATED BY THE USER OR AT LEAST IS MADE\r\n    // BY THE USER\r\n    const { loading, data } = useQuery(QUERY_RECIPES);\r\n    const recipes = data?.recipes || [];\r\n\r\n    // THESE SETS OF CODE SHOULD BE ABLE TO TAKE THE RECIPES SECTION AND\r\n    // CREATE A A NEW RECIPE ARRAY THAT HAS NO DUPLICATES BASED ON THE TITLE\r\n    // THIS CAN RAISE ANOTHER PROBLEM IF TITLES ARE THE SAME BUT ID IS NOT\r\n    const uniqueRecipes = [];\r\n    for (let a = 0; a < recipes.length; a++) {\r\n        let exists = false;\r\n        for (let b = 0; b < uniqueRecipes.length; b++) {\r\n            if (recipes[a].title === uniqueRecipes[b].title) {\r\n                exists = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!exists) {\r\n            uniqueRecipes.push(recipes[a]);\r\n        }\r\n    }\r\n    // console.log(uniqueRecipes);\r\n\r\n    // THIS SHOULD HELP PRINT ONLY A FEW AT A TIME\r\n    let test = [];\r\n    let d = 0;\r\n    const handleNext = () => {\r\n        test = [];\r\n        console.log(\"hi\");\r\n        for (let c = 0 + d; c <=4 + d ; c++) {\r\n            test.push(uniqueRecipes[c]);\r\n            console.log(\"hi\");\r\n            console.log(test);\r\n        }\r\n        d += 5;\r\n        return test;\r\n    }\r\n    handleNext();\r\n\r\n    return (\r\n        <div className=\"recipespage\">\r\n            <div className=\"searcharea\"> \r\n                <form className=\"searchform\">\r\n                    <input className=\"searchbar\" type=\"text\"></input>\r\n                    <button className=\"search-button\" type=\"submit\">Search</button>\r\n                </form>\r\n            </div>\r\n            <div className=\"recipeslist\">\r\n                {uniqueRecipes.map((recipe) => (\r\n                    <div key={recipe._id} className=\"recipecard\">\r\n                        <Link to={`/recipes/${ recipe._id }`}>\r\n                            { recipe.imageid ? (\r\n                                <Image cloudName=\"du119g90a\" public_id={ recipe.imageid } />\r\n                            ) : (\r\n                                <Image cloudName=\"du119g90a\" public_id=\"https://res.cloudinary.com/du119g90a/image/upload/v1636841468/noimage_w8jxmo.jpg\" />\r\n                            )}\r\n                            <div className=\"generalinfo\">\r\n                                <h3>{recipe.title}</h3>\r\n                                <p>Total Servings: {recipe.servings}</p>\r\n                                <p>totalTime: {recipe.totalTime} mins</p>\r\n                            </div>\r\n                            \r\n                            {/* {recipe.recipe.ingredientLines.map((ingredient) => (\r\n                                <div>\r\n                                    {ingredient}\r\n                                </div>\r\n                            ))} */}\r\n                        </Link>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div>\r\n                <button onClick={handleNext}>hi</button>\r\n            </div>\r\n        </div>\r\n    )\r\n        \r\n}\r\n\r\nexport default Recipespage;"]},"metadata":{},"sourceType":"module"}